#: import SetupScreenManager rotary_controller_python.components.setup.setup_screen_manager
#: import NumberItem rotary_controller_python.components.forms.number_item

<JogPopup>:
  title: "Jog Mode"
  size_hint: 1, 1
  auto_dismiss: False
#  BoxLayout:
#    orientation: "horizontal"
  BoxLayout:
#    size_hint_x: None
#    width: 64
    orientation: "vertical"
    NumberItem:
      name: "Desired Speed"
      value: root.desired_speed
      on_value: root.desired_speed = self.value
    NumberItem:
      name: "Current Position"
      value: app.servo.scaledPosition
      disabled: True
    NumberItem:
      name: "Current Speed"
      value: app.servo.speed
      disabled: True
#      on_release: root.screen_manager.current = "scale_0"
    NumberItem:
      name: "Current Acceleration"
      value: app.servo.acceleration
      disabled: True
    Widget:
      size_hint_y: 1
    BoxLayout:
      size_hint_y: None
      size_hint_x: 1
      height: 64
      orientation: "horizontal"
      Button:
        background_color: [0.2, 1, 0.2, 1]
        text: "Start"
        on_release: root.enable_jog = True
#        on_release: root.screen_manager.current = "scale_1"
      Button:
        background_color: [1, 0.2, 0.2, 1]
        text: "Stop"
        on_release: root.enable_jog = False
#        on_release: root.screen_manager.current = "scale_2"
      Button:
        text: "Exit"
        on_release: root.dismiss()