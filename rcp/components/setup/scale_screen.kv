#: import NumberItem rcp.components.forms.number_item
#: import DualNumberItem rcp.components.forms.dual_number_item
#: import StringItem rcp.components.forms.string_item
#: import BooleanItem rcp.components.forms.boolean_item

<ScaleScreen>:
  BoxLayout:
    orientation: "vertical"
    padding: 10
    ScreenHeader:
      text: "Scale Settings for Scale {}".format(root.scale.inputIndex)

    ScrollView:
      do_scroll_x: False
      do_scroll_y: True
      GridLayout:
        id: grid_layout
        cols: 1
        spacing: 1
        size_hint_y: None
        height: self.minimum_height

        StringItem:
          name: "Axis Name"
          value: root.scale.axisName
          on_value: root.scale.axisName = self.value
        NumberItem:
          name: "Ratio Numerator" if not root.scale.spindleMode else "Degrees per revolution (default 360)"
          value: root.scale.ratioNum
          integer: True
          on_value: root.scale.ratioNum = int(self.value)
        NumberItem:
          name: "Ratio Denominator" if not root.scale.spindleMode else "Steps per revolution"
          value: root.scale.ratioDen
          integer: True
          help_file: "scales.rst"
          on_value: root.scale.ratioDen = int(self.value)
        NumberItem:
          name: "Sync Ratio Numerator"
          value: root.scale.syncRatioNum
          integer: True
          help_file: "scales.rst"
          on_value: root.scale.syncRatioNum = int(self.value)
        NumberItem:
          name: "Sync Ratio Denominator"
          value: root.scale.syncRatioDen
          integer: True
          on_value: root.scale.syncRatioDen = int(self.value)
        BooleanItem:
          name: "Spindle Mode"
          value: root.scale.spindleMode
          on_value: root.scale.spindleMode = self.value
