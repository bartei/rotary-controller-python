<ColorPickerScreen>:
  BoxLayout:
    orientation: "vertical"
    padding: 10
    ScreenHeader:
      text: "Color Picker"

    ColorPicker:
      color: root.color
      on_color:
        root.color = self.color

    BoxLayout:
      size_hint_y: None
      height: 40
      orientation: "horizontal"

      Button:
        text: "Cancel"
        background_color: app.formats.cancel_color
        on_release: root.dismiss()

      Button:
        text: "Apply"
        background_color: app.formats.accept_color
        on_release:
          root.callback(root.color)
          app.manager.transition.direction = 'right'
          app.manager.current = app.previous[-2]
          app.previous = app.previous[:-2]
