#: import StringItem rcp.components.forms.string_item
#: import DropDownItem rcp.components.forms.dropdown_item

<FormatsPanel>:
  orientation: "vertical"
  ScrollView:
    do_scroll_x: False
    do_scroll_y: True
    GridLayout:
      id: grid_layout
      cols: 1
      spacing: 1
      size_hint_y: None
      StringItem:
        name: "Metric Position"
        value: root.formats.metric_position
        on_value: root.formats.metric_position = self.value
      StringItem:
        name: "Metric Speed"
        value: root.formats.metric_speed
        on_value: root.formats.metric_speed = self.value
      StringItem:
        name: "Imperial Position"
        value: root.formats.imperial_position
        on_value: root.formats.imperial_position = self.value
      StringItem:
        name: "Imperial Speed"
        value: root.formats.imperial_speed
        on_value: root.formats.imperial_speed = self.value
      StringItem:
        name: "Angle Format"
        value: root.formats.angle_format
        on_value: root.formats.angle_format = self.value
      DropDownItem:
        name: "Beep Tone"
        value: root.get_display_name(root.formats.beep_tone)
        options: root.beep_display_options
        on_value: root.formats.beep_tone = root.get_filename(self.value)
      Label:
        size_hint_y: None
        height: 32
        text: "Sounds Volume"
      BoxLayout:
        size_hint_y: None
        height: 32
        orientation: "horizontal"
        Button:
          size_hint_x: 0.15
          text: "Test Beep"
          on_release: app.beep()
        Button:
          size_hint_x: 0.15
          text: "Mute"
          on_release: root.toggle_mute()
        Slider:
          id: volume_slider
          size_hint_x: 0.7
          min: 0
          max: 0.5
          value: root.formats.volume
          on_touch_up: root.formats.volume = self.value
        Label:
          size_hint_x: 0.1
          text: "{}".format(int(root.formats.volume * 200))
          font_name: "fonts/iosevka-regular.ttf"
          font_size: 32
      Label:
        size_hint_y: None
        height: 32
        text: "Digits Color"
      ColorPicker:
        padding: 10
        size_hint_y: None
        height: 320
        color: root.formats.display_color
        on_color: root.formats.display_color = self.color
      Button:
        size_hint_y: None
        height: 32
        text: "Exit Application"
        on_release: app.stop()